import Footer from '../components/Footer'
import Navigation from '../components/Navigation'
import '../styles/home/index.css'
import { getCurrentLanguage, Language } from '../utils/translations'
import { useEffect, useState } from 'react'

export default function PersonalDataPage() {
  const [lang, setLang] = useState<Language>(getCurrentLanguage())

  useEffect(() => {
    const handleStorageChange = () => {
      setLang(getCurrentLanguage())
    }
    window.addEventListener('storage', handleStorageChange)

    const interval = setInterval(() => {
      const newLang = getCurrentLanguage()
      if (newLang !== lang) {
        setLang(newLang)
      }
    }, 100)

    return () => {
      window.removeEventListener('storage', handleStorageChange)
      clearInterval(interval)
    }
  }, [lang])

  const handleLanguageChange = () => {
    setLang(getCurrentLanguage())
  }

  return (
    <div className="home-page">
      <Navigation onLanguageChange={handleLanguageChange} />
      <section className="features-section" style={{ paddingTop: '120px' }}>
        <div className="container">
          <h1 className="section-title">Обработка персональных данных</h1>
          <p className="section-subtitle" style={{ maxWidth: '900px' }}>
            Мы берём и обрабатываем только те данные, которые необходимы для работы аккаунта, оплаты и поддержки.
          </p>

          <div style={{ maxWidth: '900px', margin: '0 auto', color: '#9ca3af', lineHeight: 1.6, fontSize: '0.95rem' }}>
            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Общие положения</h2>
            <p>
              Настоящий документ описывает, какие данные мы можем получать при использовании сайта, личного кабинета,
              лаунчера и связанных сервисов, а также для каких целей и на каких условиях они используются.
            </p>
            <p>
              Используя сервисы проекта и/или создавая аккаунт, вы соглашаетесь с условиями обработки данных,
              описанными на этой странице.
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Какие данные можем получать</h2>
            <p>
              Логин, e-mail, идентификатор пользователя (UID), служебные данные авторизации, а также технические данные,
              необходимые для защиты аккаунта и привязки устройства (например, HWID), если это используется лаунчером.
            </p>

            <h2 className="perspective-title" style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Технические данные и cookies</h2>
            <p className="perspective-text">
              Мы можем обрабатывать техническую информацию, которая автоматически передается браузером/устройством:
              IP-адрес, тип устройства и браузера, язык интерфейса, дату и время запросов, страницы/действия в сервисе,
              а также диагностические события (логи) для защиты и отладки.
            </p>
            <p className="perspective-text">
              Сервис может использовать cookies и аналогичные технологии для авторизации, сохранения настроек и
              обеспечения безопасности. Вы можете ограничить cookies в настройках браузера, однако часть функций может
              работать некорректно.
            </p>

            <h2 className="perspective-title" style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Зачем это нужно</h2>
              Для создания и поддержки аккаунта, предоставления доступа к продуктам, обработки платежей, предотвращения
              мошенничества и обеспечения безопасности.
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Правовые основания</h2>
            <p>
              Мы обрабатываем данные на основании вашего согласия (например, при регистрации), необходимости исполнения
              договора/оказания услуг (предоставление доступа к продуктам), а также законных интересов (безопасность,
              предотвращение злоупотреблений и мошенничества).
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Передача третьим лицам</h2>
            <p>
              Мы не продаём персональные данные третьим лицам. Доступ к данным может предоставляться ограниченному кругу
              подрядчиков только в объеме, необходимом для работы сервиса, например:
            </p>
            <ul>
              <li>платежным провайдерам — для обработки оплаты и подтверждения транзакций;</li>
              <li>почтовым сервисам — для отправки писем (коды подтверждения, уведомления поддержки);</li>
              <li>хостинг/инфраструктура — для хранения и передачи данных в рамках работы сайта и API.</li>
            </ul>
            <p>
              Мы можем раскрыть данные, если этого требует закон или запрос уполномоченного органа при наличии
              законных оснований.
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Как мы используем и храним данные</h2>
            <p>
              Данные используются строго в рамках работы сервиса. Мы применяем меры защиты и не продаём персональные
              данные третьим лицам.
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Сроки хранения</h2>
            <p>
              Мы храним данные не дольше, чем это необходимо для целей обработки: поддержания аккаунта, оказания услуг,
              соблюдения требований безопасности и/или выполнения юридических обязательств. Срок хранения может быть
              продлен, если это требуется по закону или для защиты прав и интересов проекта.
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Безопасность</h2>
            <p>
              Мы применяем организационные и технические меры защиты, направленные на предотвращение несанкционированного
              доступа, изменения, раскрытия или уничтожения данных. Однако вы также обязаны соблюдать меры безопасности:
              использовать сложный пароль и не передавать учетные данные третьим лицам.
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Права пользователя</h2>
            <p>
              Вы можете запросить уточнение/обновление данных, ограничение обработки или удаление аккаунта, если это не
              противоречит требованиям закона и целям безопасности. По вопросам доступа, исправления или удаления данных
              обратитесь в поддержку.
            </p>

            <h2 style={{ color: 'white', marginTop: '1.5rem', fontSize: '1.25rem' }}>Связь</h2>
            <p>
              По вопросам обработки персональных данных вы можете обратиться в поддержку проекта.
            </p>
          </div>
        </div>
      </section>
      <Footer lang={lang} />
    </div>
  )
}
